!function t(e,o,n){function r(s,l){if(!o[s]){if(!e[s]){var i="function"==typeof require&&require;if(!l&&i)return i(s,!0);if(c)return c(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var d=o[s]={exports:{}};e[s][0].call(d.exports,(function(t){return r(e[s][1][t]||t)}),d,d.exports,t,e,o,n)}return o[s].exports}for(var c="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,o){const{MyModal:n}=t("./modules/modal"),{fetchData:r}=t("./modules/fetchData"),{cookies:c}=t("./modules/cookies"),{cookieName:s,URL:l}=t("./modules/fixtures");!!!c.get(s)&&document.addEventListener("DOMContentLoaded",()=>{if(document.body){const t=new n(document.body);t.freezeBodyScroll(),r(l,t)}else console.log("Invalid HTML document: <body> not detected")})},{"./modules/cookies":2,"./modules/fetchData":3,"./modules/fixtures":4,"./modules/modal":7}],2:[function(t,e,o){e.exports={cookies:class{static set(t,e,o){var n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);var r="expires="+n.toUTCString();const c=JSON.stringify(e);document.cookie=t+"="+c+";"+r}static get(t){for(var e=t+"=",o=decodeURIComponent(document.cookie).split(";"),n=0;n<o.length;n++){for(var r=o[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}}}},{}],3:[function(t,e,o){const{handleButtonClick:n}=t("./handleButtonClick");e.exports={fetchData:function(t,e){fetch(t).then(t=>t.json()).then((function(t){const o=Object.entries(t.vendors).map(t=>t[1]);e.showVendors(o),e.mountHandlers(()=>n(e))})).catch((function(){console.log("error from fetch")}))}}},{"./handleButtonClick":5}],4:[function(t,e,o){e.exports={cookieName:"Optadd360_test_cookie_for_Piotr_Maksymiuk",URL:"https://optad360.mgr.consensu.org/cmp/v2/vendor-list.json"}},{}],5:[function(t,e,o){const{cookies:n}=t("./cookies"),{cookieName:r}=t("./fixtures");e.exports={handleButtonClick:function(t){return function(e){try{const o={status:e.target.textContent,data:t.getFormData};n.set(r,o,1),t.unfreezeBodyScroll(),t.unBlurBackground(),t.unmountModal()}catch(t){console.log("error in hendleButtonClick",t)}}}}},{"./cookies":2,"./fixtures":4}],6:[function(t,e,o){e.exports={createElement:function(t,e,o){return element=document.createElement(t),element.classList.add(e),element.innerText=o||null,element}}},{}],7:[function(t,e,o){const{createElement:n}=t("./library");e.exports={MyModal:class{constructor(t){this.body=t,this.blurBackground(),this.createModal(this.body)}createModal(t){try{const e=n("div","modal"),o=n("div","modal__buttons");e.appendChild(o),o.appendChild(n("button","modal__button","Accept")),o.appendChild(n("button","modal__button","Reject")),e.appendChild(n("h1","modal__h1","GDPR Consent"));const r=n("form","form");e.appendChild(r),t.insertBefore(e,document.body.firstChild),this.Modal=e}catch(t){}}unmountModal(){this.body.removeChild(this.Modal)}showVendors(t){try{t.forEach(t=>{const e=n("input","form__input"),o=n("label","form__label",t.name),r=n("a","form__link","link to policy");r.setAttribute("href",t.policyUrl),e.setAttribute("type","checkbox"),e.setAttribute("ID",t.name),o.setAttribute("for",t.name);const c=this.Modal.querySelector("form");c.append(e,r,o,document.createElement("br")),this.Modal.append(c)})}catch(t){console.log("error in showVendors",t)}}get getFormData(){try{const t=Array.prototype.slice.call(this.Modal.querySelectorAll(".form__input")).map(t=>({id:t.id,checked:t.checked}));return t.filter(t=>t.checked)}catch(t){return console.log("something is wrong in getFormData function"),null}}get getButtons(){return Array.prototype.slice.call(this.Modal.querySelectorAll(".modal__button"))}mountHandlers(t){try{this.getButtons.forEach(e=>{e.addEventListener("click",t(this.Modal))})}catch(t){}}freezeBodyScroll(){try{this.body.classList.add("frozen-scroll")}catch(t){}}unfreezeBodyScroll(){try{this.body.classList.contains("frozen-scroll")&&this.body.classList.remove("frozen-scroll")}catch(t){}}blurBackground(){try{Array.from(this.body.children).forEach(t=>{t.classList.add("blurred")})}catch(t){console.log("error in blurBackground")}}unBlurBackground(){try{const t=this.body.style.display;this.body.style.display="none";Array.from(this.body.children).forEach(t=>{t.classList.remove("blurred")}),this.body.style.display=t}catch(t){console.log("error in unblurBackground")}}}}},{"./library":6}]},{},[1]);